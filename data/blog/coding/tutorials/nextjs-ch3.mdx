---
title: 'Learning Next.js - "Optimizing Fonts and Images" Chapter 2'
date: '2025-08-14'
tags: ['programming', 'next.js', 'coding', 'tutorial', 'typescript']
draft: true
summary: Summary of App Router next.js course Chapter 3 and reactions
images: []
authors: ['brett-stockmeier']
---

# Introduction
This was a weird, hard to parse chapter for me. I guess I've never thought about post optimization before. And the added Tailwind only made it harder to get a handle of.

#### Goals of this chapter
1. How to add custom fonts with next/font.
1. How to add images with next/image.
1. How fonts and images are optimized in Next.js.

## Why Optimize Fonts
My experience up to this point has been largely focused on back end development. Perhaps that's why I couldn't really appreciate how good coding practices can affect performance on the front end. Apparently fetching and loading custom fonts (and images?) can be quite taxing. Or so this chapter claims. It feels like I'm still taking this on faith, but I have no real reason to doubt either.

Cumulative Layout Shift[^1] is a new term that relates to Google's metrics and how they evaluate website performance (which in turn apparently factors into the order that their search results are returned). It results to fonts in that for many unoptimized browsers, websites are initially loading page content in a default font to display information ASAP, and only later loading the specified font and swapping out the content. But not all fonts are equal in appearance: they can vary in size and width. Simply swapping one font for another can push other elements out of position and change the entire layout and feel of a web page.

Next.js automatically handles font opitimization through its `next/font` module, which purports to download fonts at build time and hosts them with other static assets. This way they are ready to be displayed on page load without the need to resort to default fonts and element shifting when you switch fonts.

I'm assuming this comes at the cost of your project being that much larger after build as your static assets are now also holding the font files. I'm curious as to whether these are considered to be comparatively large or small in size?

[^1]: The tutorial links this [article](https://vercel.com/blog/how-core-web-vitals-affect-seo) in relation to this topic, detailing how performance metrics and affect SEO (Search Engine Optimization). I should blog about this in the future.

## Adding a Primary Font
The example steps for adding/applying a primary font (using next/font) according to the tutorial:
1. In the ui folder of the project (where everything pertaining to the front end is stored), create a new typescript file, `fonts.ts` to track the fonts used throughout the application. This doesn't track where these fonts are being used, but if they are not imported here, they cannot be used elsewhere.
1. From within `fonts.ts`, import the font you want (in the case of the example, "Inter"), and export it. When exporting it, it is important to specify a subset of the font that you want included. I'm curious as to why this is built to be specified on the export step, and not the import. I understand the idea comes from the idea that the average user will not *need* access to the entire character set of the font, but are you not still importing and storing the entire font regardless?
1. Apply the font to the desired elements through the `className` property (as we've seen with Tailwind before)

In `fonts.ts`:

```import { Inter } from 'next/font/google';
 
export const inter = Inter({ subsets: ['latin'] });```

In `layout.tsx`: 
```import '@/app/ui/global.css';
import { inter } from '@/app/ui/fonts';
 
export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <body className={`${inter.className} antialiased`}>{children}</body>
    </html>
  );
}```

In the tutorial (as shown above), we are applying the font to the `<body>` tag in `layout.tsx` to see the font be applied to the entirety of the application.

(They also recommend using `antialiased` which "smoothes out" the font. It "adds a nice touch". I'm curious if there's ever a reason NOT to use antialiased?)

## Practice: Adding a Secondary Font
A practice exercise! Takeaways for me: beyond adding a "global" font through the layout.tsx `<body>` element can be overridden by applying a different font "further down the stream" (I know there's probably a more elequent way to put this, but I can't recall it from my education).

## Why Optimize Images?
